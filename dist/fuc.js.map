{"version":3,"sources":["webpack:///webpack/bootstrap e6403d7bc3cbc7a44ea6","webpack:///./src/util.js","webpack:///./src/dep.js","webpack:///./src/wathcer.js","webpack:///./src/compiler.js","webpack:///./src/observer.js","webpack:///./src/index.js"],"names":["Util","a","b","JSON","stringify","val","from","isObject","Object","assign","exp","vm","eval","e","console","error","Dep","subs","target","uid","options","keys","forEach","key","update","$uid","callback","value","foo","newVal","get","isEqual","computeExpression","$$id","updater","text","node","textContent","html","innerHTML","isInputting","checkbox","$id","indexOf","checked","attr","attrName","setAttribute","style","dom","nextNode","parentNode","insertBefore","removeChild","$el","el","$fragment","_nodeToFragment","compile","appendChild","childNodes","length","child","nodeType","compileTextNode","compileElementNode","attrs","attributes","lazyCompileDir","lazyCompileExp","name","dir","_checkDirective","type","handler","bind","prop","removeAttribute","parse","substring","split","trim","_parseTextExp","textHandler","bindWatcher","undefined","fn","addEventListener","refNode","document","createTextNode","current","updateFn","regText","pieces","matches","match","tokens","piece","push","join","fragment","createDocumentFragment","_isIgnorable","regIgnorable","test","data","observe","observeObject","dep","self","defineProperty","enumerable","configurable","addSub","set","Array","isArray","observeArray","notify","arr","setPrototypeOf","defineReactiveArray","item","arrayPrototype","prototype","arrayObject","create","methods","method","originalMethod","args","result","apply","inserted","slice","writable","index","splice","querySelector","$data","$options","computed","_proxy","_proxyMethods","proxy","call","hasOwnProperty","window","Fuc"],"mappings":"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","file":"fuc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e6403d7bc3cbc7a44ea6","export default class Util {\n  static isEqual(a, b) {\n    return a === b || JSON.stringify(a) === JSON.stringify(b);\n  }\n  static isObject(val) {\n    return val !== null && typeof val === 'object';\n  }\n  static deepCopy(from) {\n    if (Util.isObject(from)) {\n      return Object.assign({}, from);\n    }\n    return from;\n  }\n  static computeExpression(exp, vm) {\n    try {\n      // with(context){\n      /* eslint-disable no-eval */\n      return eval(exp);\n      /* eslint-enable no-eval */\n      // }\n    } catch (e) {\n      console.error('ERROR', e);\n      return '';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","class Dep {\n  static target;\n  subs = {};\n\n  addSub(target) {\n    if (!this.subs[target.uid]) {\n      this.subs[target.uid] = target;\n    }\n  }\n  notify(options) {\n    Object.keys(this.subs).forEach((key) => {\n      this.subs[key].update(options);\n    });\n  }\n}\nexport default Dep;\n\n\n\n// WEBPACK FOOTER //\n// ./src/dep.js","import Dep from './dep';\nimport Util from './util';\n\nlet $uid = 0;\n\nclass Watcher {\n  exp;\n  vm;\n  callback;\n  value = null;\n  uid = $uid;\n  /**\n   * 用于和订阅者建立联系，当数据变更时通知watcher，watcher发出命令更新Dom\n   * @param {any} exp\n   * @param {any} vm\n   * @param {any} callback\n   * @memberof Watcher\n   */\n  constructor(exp, vm, callback) {\n    this.exp = exp;\n    this.vm = vm;\n    this.callback = callback || function foo() {};\n\n    // this.value = null;\n    // this.uid = $uid;\n    $uid += 1;\n    this.update();\n  }\n  update(options) {\n    // Dep.target = this;\n    const newVal = this.get();\n\n    if (!Util.isEqual(this.value, newVal)) {\n      this.callback(newVal, this.value, options);\n    }\n  }\n  get() {\n    Dep.target = this;\n    const value = Util.computeExpression(this.exp, this.vm);\n    Dep.target = null;\n    return value;\n  }\n}\nexport default Watcher;\n\n\n\n// WEBPACK FOOTER //\n// ./src/wathcer.js","// @ts-check\nimport Watcher from './wathcer';\nimport Util from './util';\n\nlet $$id = 0;\n\nconst updater = {\n  text(node, newVal) {\n    node.textContent = typeof newVal === 'undefined' ? '' : newVal;\n  },\n  html(node, newVal) {\n    node.innerHTML = typeof newVal === 'undefined' ? '' : newVal;\n  },\n  value(node, newVal) {\n    // 当有输入的时候循环依赖了，中文输入法不能用。这里加入一个标志避开自动update\n    if (!node.isInputting) {\n      node.value = newVal || '';\n    }\n    node.isInputting = false;\n  },\n  checkbox(node, newVal) {\n    // 处理数组\n    const value = node.value || node.$id;\n    if (newVal.indexOf(value) < 0) {\n      node.checked = false;\n    } else {\n      node.checked = true;\n    }\n  },\n  attr(node, newVal, attrName) {\n    newVal = typeof newVal === 'undefined' ? '' : newVal;\n    node.setAttribute(attrName, newVal);\n  },\n  style(node, newVal, attrName) {\n    newVal = typeof newVal === 'undefined' ? '' : newVal;\n    if (attrName === 'display') {\n      newVal = newVal ? 'initial' : 'none';\n    }\n    node.style[attrName] = newVal;\n  },\n  dom(node, newVal, nextNode) {\n    if (newVal) {\n      nextNode.parentNode.insertBefore(node, nextNode);\n    } else {\n      nextNode.parentNode.removeChild(node);\n    }\n  },\n};\nexport default class Compiler {\n  $el;\n  vm;\n  $fragment;\n  constructor(options) {\n    this.$el = options.el;\n    this.vm = options.vm;\n    if (this.$el) {\n      /* eslint no-underscore-dangle: 0*/\n      // 先从dom挂载到js内存中\n      this.$fragment = this._nodeToFragment();\n      this.compile(this.$fragment);\n      this.$el.appendChild(this.$fragment);\n    }\n  }\n  compile(node, vm) {\n    node.$id = $$id;\n    $$id += 1;\n\n    if (node.childNodes.length > 0) {\n      [...node.childNodes].forEach((child) => {\n        switch (child.nodeType) {\n          case 3:\n            this.compileTextNode(child, vm);\n            break;\n          case 1:\n            this.compileElementNode(child, vm);\n            break;\n          default:\n        }\n      });\n    }\n  }\n  compileElementNode(node, vm = this.vm) {\n    const attrs = [...node.attributes];\n    let lazyCompileDir = '';\n    let lazyCompileExp = '';\n\n    attrs.forEach((attr) => {\n      const attrName = attr.name;\n      const exp = attr.value;\n      const dir = this._checkDirective(attrName);\n\n      if (dir.type) {\n        if (dir.type === 'if' || dir.type === 'for') {\n          lazyCompileDir = dir.type;\n          lazyCompileExp = exp;\n        } else {\n          const handler = this[`${dir.type}Handler`].bind(this);\n          if (handler) {\n            handler(node, vm, exp, dir.prop);\n          } else {\n            console.error(`找不到${dir.type}指令`);\n          }\n        }\n      }\n      node.removeAttribute(attrName);\n    });\n    // TODO if for不能共存\n    if (lazyCompileExp) {\n      this[`${lazyCompileDir}Handler`](node, vm, lazyCompileExp);\n    } else {\n      // 向下遍历节点\n      this.compile(node, vm);\n    }\n  }\n  _checkDirective(attrName) {\n    const dir = {};\n    if (attrName.indexOf('v-') === 0) {\n      const parse = attrName.substring(2).split(':');\n      dir.type = parse[0];\n      dir.prop = parse[1];\n    } else if (attrName.indexOf('@') === 0) {\n      dir.type = 'on';\n      dir.prop = attrName.substring(1);\n    } else if (attrName.indexOf(':') === 0) {\n      dir.type = 'bind';\n      dir.prop = attrName.substring(1);\n    }\n    return dir;\n  }\n  compileTextNode(node, vm) {\n    const text = node.textContent.trim();\n    if (text) {\n      const exp = this._parseTextExp(text);\n      this.textHandler(node, vm || this.vm, exp);\n    }\n  }\n  // v-text\n  textHandler(node, vm, exp) {\n    this.bindWatcher(node, vm, exp, 'text', undefined);\n  }\n  /**\n   * 可能是一个函数名称或者是一个表达式\n   * @click=\"fuc\" | @click=\"fuc()\"\n   *\n   * @param {any} node\n   * @param {any} vm\n   * @param {any} exp\n   * @param {any} prop\n   * @memberof Compiler\n   */\n  onHandler(node, vm, exp, prop) {\n    const fn = vm[exp];\n    if (typeof fn === 'function') {\n      node.addEventListener(prop, fn.bind(vm), false);\n    } else {\n      node.addEventListener(prop, () => Util.computeExpression(exp, vm), false);\n    }\n  }\n\n  ifHandler(node, vm, exp) {\n    // 先编译子元素，然后根据表达式决定是否插入dom中\n    // PS：这里需要先插入一个占位元素来定位，不能依赖其他元素，万一其他元素没了呢？\n    this.compile(node, vm);\n    const refNode = document.createTextNode('');\n    node.parentNode.insertBefore(refNode, node);\n    const current = node.parentNode.removeChild(node);\n    this.bindWatcher(current, vm, exp, 'dom', refNode); // refNode是引用关系，移动到parentNode后会自动更新位置，所以可以传入\n  }\n  /**\n *\n *\n * @param {any} node\n * @param {any} vm\n * @param {any} exp\n * @param {any} dir 绑定类型\n * @param {any} prop\n * @memberof Compile\n */\n  bindWatcher(node, vm, exp, dir, prop) {\n    const updateFn = updater[dir];\n    /* eslint-disable no-new */\n    new Watcher(exp, vm, (newVal) => {\n      updateFn(node, newVal, prop);\n    });\n    /* eslint-enable no-new */\n  }\n  /**\n   * {{name}号码{{tel}}} => `name+'号码'+tel`\n   * 用于eval\n   *\n   * @param {any} text\n   * @returns\n   * @memberof Compile\n   */\n  _parseTextExp(text) {\n    const regText = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\n    const pieces = text.split(regText);\n    const matches = text.match(regText); // 模板数组\n    const tokens = [];\n\n    pieces.forEach((piece) => {\n      if (matches && matches.indexOf(`{{${piece}}}`) > -1) {\n        tokens.push(piece);\n      } else if (piece) {\n        tokens.push(JSON.stringify(piece));\n      }\n    });\n    return tokens.join('+');\n  }\n  _nodeToFragment() {\n    const fragment = document.createDocumentFragment();\n\n    [...this.$el.childNodes].forEach((child) => {\n      if (this._isIgnorable(child)) {\n        this.$el.removeChild(child);\n      } else {\n        fragment.appendChild(child);\n      }\n    });\n    return fragment;\n  }\n  _isIgnorable(node) {\n    const regIgnorable = /^[\\t\\n\\r]+/;\n    return node.nodeType === 8 || (node.nodeType === 3 && regIgnorable.test(node.textContent));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compiler.js","// @ts-check\nimport Dep from './dep';\n\nclass Observer {\n  constructor(data) {\n    // 劫持数据\n    this.observe(data);\n  }\n  observe(data) {\n    if (data && typeof data === 'object') {\n      Object.keys(data).forEach((key) => {\n        this.observeObject(data, key, data[key]);\n      });\n    }\n  }\n\n  observeObject(data, key, val) {\n    const dep = new Dep();\n    const self = this;\n    Object.defineProperty(data, key, {\n      enumerable: true,\n      configurable: true,\n      get() {\n        /* eslint-disable no-unused-expressions*/\n        Dep.target && dep.addSub(Dep.target);\n        /* eslint-enable no-unused-expressions*/\n        return val;\n      },\n      set(newVal) {\n        if (val === newVal) {\n          return;\n        }\n        val = newVal;\n        if (Array.isArray(newVal)) {\n          self.observeArray(newVal, Dep);\n        } else {\n          self.observe(newVal);\n        }\n        dep.notify(); // 触发通知\n      },\n    });\n\n    if (Array.isArray(val)) {\n      this.observeArray(val, dep); // 递归监视，数组的监视要分开\n    } else {\n      this.observe(val); // 递归对象属性到基本类型为止\n    }\n  }\n\n  observeArray(arr, dep) {\n    Object.setPrototypeOf(arr, this.defineReactiveArray(dep));\n    arr.forEach((item) => {\n      this.observe(item);\n    });\n  }\n  /**\n   * 生成代理对象，伪装[].__proto__\n   *\n   * @param {any} dep\n   * @returns\n   * @memberof Observer\n   */\n  defineReactiveArray(dep) {\n    const arrayPrototype = Array.prototype;\n    const arrayObject = Object.create(arrayPrototype);\n\n    const methods = ['pop', 'push', 'shift', 'unshift', 'sort', 'reverse', 'splice'];\n\n    methods.forEach((method) => {\n      const originalMethod = arrayPrototype[method];\n      const self = this;\n\n      Object.defineProperty(arrayObject, method, {\n        value(...args) {\n          const result = originalMethod.apply(this, args);\n          let inserted;\n\n          switch (method) {\n            case 'push':\n            case 'unshift':\n              inserted = args;\n              break;\n            case 'splice':\n              inserted = args.slice(2);\n              break;\n            default:\n          }\n\n          // 新增数据下可能还有对象数组，局部劫持\n          if (inserted) {\n            self.observeArray(inserted, dep);\n          }\n          dep.notify({ method, args });\n\n          return result;\n        },\n        enumerable: true,\n        writable: true,\n        configurable: true,\n      });\n    });\n    // 提供添加/设置新值的快捷方法\n    Object.defineProperty(arrayObject, '$set', {\n      value(index, value) {\n        // 超出数组长度默认追加到最后\n        if (index >= this.length) {\n          index = this.length;\n        }\n        return this.splice(index, 1, value)[0];\n      },\n    });\n\n    Object.defineProperty(arrayObject, '$remove', {\n      value(item) {\n        const index = this.indexOf(item);\n\n        if (index > -1) {\n          this.splice(index, 1);\n        }\n      },\n    });\n\n    return arrayObject;\n  }\n}\nexport default Observer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/observer.js","// @ts-check\n// import Observer from './observer';\nimport Compiler from './compiler';\nimport Observer from './observer';\n\nclass Fuc {\n  constructor(options) {\n    this.$el = document.querySelector(options.el);\n    this.$data = options.data;\n    this.$options = Object.assign(\n      {\n        computed: {},\n        methods: {},\n      },\n      options,\n    );\n    /* eslint no-underscore-dangle: 0*/\n    this._proxy(options);\n    this._proxyMethods(options.methods);\n    /* eslint-disable  no-new*/\n    new Observer(this.$data);\n    new Compiler({ el: this.$el, vm: this });\n    /* eslint-enable  no-new*/\n  }\n  // 代理计算属性和$data\n  _proxy(options) {\n    const proxy = ['data', 'computed'];\n\n    proxy.forEach((item) => {\n      Object.keys(options[item]).forEach((key) => {\n        Object.defineProperty(this, key, {\n          configurable: true,\n          enumerable: true,\n          get() {\n            if (typeof this.$data[key] !== 'undefined') {\n              return this.$data[key];\n            } else if (typeof this.$options.computed[key] !== 'undefined') {\n              return this.$options.computed[key].call(this);\n            }\n            return undefined;\n          },\n          set(newVal) {\n            if (Object.prototype.hasOwnProperty.call(this.$data, key)) {\n              this.$data[key] = newVal;\n            } else if (Object.prototype.hasOwnProperty.call(this.$options.computed, key)) {\n              this.$options.computed[key] = newVal;\n            }\n          },\n        });\n      });\n    });\n  }\n  _proxyMethods(methods) {\n    Object.keys(methods).forEach((key) => {\n      this[key] = this.$options.methods[key];\n    });\n  }\n}\nif (process.env.NODE_ENV === 'development') {\n  Object.defineProperty(window, 'Fuc', {\n    value: Fuc,\n  });\n}\n\nexport default Fuc;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}